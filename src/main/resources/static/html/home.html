<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS-->
    <link rel="stylesheet" href="../vendor/bootstrap/css/bootstrap.min.css">
    <!-- Font Awesome CSS-->
    <link rel="stylesheet" href="../vendor/font-awesome/css/font-awesome.min.css">
    <!-- Custom Font Icons CSS-->
    <link rel="stylesheet" href="../css/font.css">
    <!-- theme stylesheet-->
    <link rel="stylesheet" href="../css/style.default.css" id="theme-stylesheet">
    <!-- Custom stylesheet - for your changes-->
    <link rel="stylesheet" href="../css/custom.css">
    <link rel="stylesheet" href="../css/layer.css">
    <title>主页</title>
</head>
<body>
<div id="app">
    <header class="header">
        <nav class="navbar navbar-expand-lg">
            <div class="search-panel">
                <div class="search-inner d-flex align-items-center justify-content-center">
                    <div class="close-btn">Close <i class="fa fa-close"></i></div>
                    <form id="searchForm" action="#">
                        <div class="form-group">
                            <input type="search" name="search" placeholder="What are you searching for...">
                            <button type="submit" class="submit">Search</button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="container-fluid d-flex align-items-center justify-content-between">
                <div class="navbar-header">
                    <!-- Navbar Header--><a href="home.html" class="navbar-brand">
                    <div class="brand-text brand-big visible text-uppercase"><strong
                            class="text-primary">小标</strong><strong>会议平台</strong></div>
                    <div class="brand-text brand-sm"><strong class="text-primary">X</strong><strong>B</strong></div>
                </a>
                    <!-- Sidebar Toggle Btn-->
                    <button class="sidebar-toggle"><i class="fa fa-long-arrow-left"></i></button>
                </div>
                <div class="right-menu list-inline no-margin-bottom">
                    <!-- Log out -->
                    <div class="list-inline-item logout">
                        <a id="logout" href="../index.html" class="nav-link"><span
                                class="d-none d-sm-inline">Logout </span></a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <div class="d-flex align-items-stretch">
        <!-- Sidebar Navigation-->
        <nav id="sidebar">
            <!-- Sidebar Header-->
            <div class="sidebar-header d-flex align-items-center" @click="toUpdate">
                <div id="avatar" class="avatar" ><img :src="loginUser.pic" alt="..." class="img-fluid rounded-circle">
                </div>
                <div class="title">
                    <h1 class="h5">{{loginUser.realName}}</h1>
                    <p>{{loginUser.deptName}}</p>
                </div>
            </div>
            <!-- Sidebar Navidation Menus--><span class="heading">Main</span>
            <ul class="list-unstyled">
                <li class="active"><a href="home.html"> <i class="icon-home"></i>主页 </a></li>
                <li><a href="#userDropdown" data-toggle="collapse"> <i class="icon-windows"></i>用户列表</a>
                    <ul id="userDropdown" class="collapse list-unstyled ">
                        <li><a href="user.html">查看用户</a></li>
                        <li><a href="my_user.html">我关注的用户</a></li>
                        <li><a href="article.html">发布文章</a></li>
                        <li><a href="article_collect.html">我的收藏</a></li>
                    </ul>
                </li>
                <!--<li><a href="login.html"> <i class="icon-logout"></i>Login page </a></li>-->

                <li><a href="#depDropdown" data-toggle="collapse"> <i class="icon-windows2"></i>部门列表</a>
                    <ul id="depDropdown" class="collapse list-unstyled ">
                        <li><a href="department.html">全部部门</a></li>
                        <li><a href="meeting.html">会议系统</a></li>
                    </ul>
                </li>

            </ul>

        </nav>
        <!-- Sidebar Navigation end-->
        <div class="page-content">
            <div class="page-header">
                <div class="container-fluid">
                    <h2 class="h5 no-margin-bottom">主面板</h2>
                </div>
            </div>
            <section class="no-padding-top no-padding-bottom">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-3 col-sm-6">
                            <div class="statistic-block block">
                                <div class="progress-details d-flex align-items-end justify-content-between">
                                    <div class="title">
                                        <strong>新增用户</strong>
                                    </div>
                                    <div class="number dashtext-1">27</div>
                                </div>
                                <div class="progress progress-template">
                                    <!--这个百分比由前端计算,取接近100%的数,例如 140就是接近200于是为40%-->
                                    <div role="progressbar" style="width: 27%" aria-valuenow="30" aria-valuemin="0"
                                         aria-valuemax="100" class="progress-bar progress-bar-template dashbg-1"></div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-3 col-sm-6">
                            <div class="statistic-block block">
                                <div class="progress-details d-flex align-items-end justify-content-between">
                                    <div class="title">
                                        <strong>新增文章</strong>
                                    </div>
                                    <div class="number dashtext-3">140</div>
                                </div>
                                <div class="progress progress-template">
                                    <!--这个百分比由前端计算,取接近100%的数,例如 140就是接近200于是为40%-->
                                    <div role="progressbar" style="width: 40%" aria-valuenow="55" aria-valuemin="0"
                                         aria-valuemax="100" class="progress-bar progress-bar-template dashbg-3"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <div class="statistic-block block">
                                <div class="progrebarChartExample1ss-details d-flex align-items-end justify-content-between">
                                    <div class="title">
                                        <strong>新开会议</strong>
                                    </div>
                                    <div class="number dashtext-6">8</div>
                                </div>
                                <div class="progress progress-template">
                                    <!--这个百分比由前端计算,取接近100%的数,例如 140就是接近200于是为40%-->
                                    <div role="progressbar" style="width: 40%" aria-valuenow="55" aria-valuemin="0"
                                         aria-valuemax="100" class="progress-bar progress-bar-template dashbg-5"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="no-padding-bottom">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="line-cahrt block" style="background-color: rgb(238, 238, 238);">
                                <div id="main" style="width: 100%; height: 400px;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <footer class="footer">
                <div class="footer__block block no-margin-bottom">
                    <div class="container-fluid text-center">
                        <p class="no-margin-bottom">Copyright &copy; 2019.Company <a href="#">东方标准</a></p>
                    </div>
                </div>
            </footer>
        </div>
    </div>
</div>
<!-- JavaScript files-->
<script src="../vendor/jquery/jquery.min.js"></script>
<script src="../vendor/popper.js/umd/popper.min.js"></script>
<script src="../vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="../vendor/jquery.cookie/jquery.cookie.js"></script>
<script src="../vendor/chart.js/Chart.min.js"></script>
<script src="../vendor/jquery-validation/jquery.validate.min.js"></script>
<!--<script src="../js/charts-home.js"></script>-->
<script src="../js/front.js"></script>
<script src="../js/custom.js"></script>
<script src="../js/layer.js"></script>
<script src="../js/vue-2.6.11.js"></script>
<script src="../js/axios-0.19.2.min.js"></script>
<script src="../js/jquery-cookie-1.4.1.js"></script>
<script src="../js/echarts.min.js"></script>
</body>
</html>
<script>
    var vm = new Vue({
        el: '#app',
        data: {
            uid: sessionStorage.getItem("userId"),
            loginUser: JSON.parse(localStorage.getItem("loginUser"))
        },
        methods: {
            toUpdate: function () {
                sessionStorage.setItem("userId", this.loginUser.id);
                location.href = '/html/user_look.html';
            }
        },
        created: function () {

        }
    });

    $(function () {
        var needRefresh = sessionStorage.getItem("need-refresh");
        if (needRefresh) {
            sessionStorage.removeItem("need-refresh");
            location.reload();
        }
    })
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('main'));

    // 指定图表的配置项和数据
    option = {
        // 标题
        title: {
            text: '小标数据汇总'
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                label: {
                    backgroundColor: '#aaaaff'
                }
            }
        },
        // 图表说明
        legend: {
            data: ['新增用户', '新增文章', '新开会议']
        },
        // 工具栏(图片另存为按钮)
        toolbox: {
            feature: {
                saveAsImage: {}
            }
        },
        // 布局
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis: [{
            type: 'category',
            boundaryGap: false,
            data: ["10.21", "10.22", "10.23", "10.24", "10.25", "10.26", "10.27", "10.28", "10.29"]
        }],
        yAxis: [{
            type: 'value'
        }],
        series: [{
            name: '新增用户',
            type: 'line',
            stack: '总量',
            areaStyle: {},
            data: [3, 5, 7, 4, 6, 2, 6, 3, 4]
        },
            {
                name: '新增文章',
                type: 'line',
                stack: '总量',
                areaStyle: {},
                data: [15, 10, 12, 14, 12, 9, 10, 11, 8]
            },
            {
                name: '新开会议',
                type: 'line',
                stack: '总量',
                label: {
                    normal: {
                        show: true,
                        position: 'top'
                    }
                },
                areaStyle: {},
                data: [8, 8, 9, 7, 9, 12, 13, 10, 11]
            }
        ]
    };


    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);


</script>